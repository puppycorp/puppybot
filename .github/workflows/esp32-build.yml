name: Build puppybot firmware

on:
    push: {}
    pull_request: {}

jobs:
    build-esp32:
        name: Build puppybot firmware
        runs-on: ubuntu-latest

        steps:
            - name: Checkout repository
              uses: actions/checkout@v3

            - name: Set up ESP-IDF
              uses: espressif/install-esp-idf-action@v1
              with:
                  version: 'v5.2.5'

            - name: Build project
              working-directory: esp32
              run: idf.py build

        #   - name: Upload firmware binaries
        #     if: success()
        #     uses: actions/upload-artifact@v3
        #     with:
        #       name: esp32-artifacts
        #       path: |
        #         esp32/build/puppybot.bin
        #         esp32/build/puppybot.elf
        #         esp32/build/puppybot.map